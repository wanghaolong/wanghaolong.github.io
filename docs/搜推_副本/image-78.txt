=== Content of image-78.png ===
美团搜索的排序架构从上而下可以被分成四层。

最上层是用户发出query请求后有一个接入展现层。

下面一层是异构合并层。返回的结果包含四种类型: 商品、商家、广告和卡片。商品和商家都包含多个业务，

例如商家可以有酒店、旅游景点、餐饮店等; 商品可以有送药上门的商品、美团优选的商品、美团买菜的商品
等。不同的业务履约的形式也不一样。

+ 再下面一层是商品和商家的排序层，我们进一步将其细化为不同层级。首先是召回粗排层L1，接下来是精排层
L2，再往后是策略小模型层L3。商品和商家会在两路分别进行同构排序。在排序中控层完成同构排序后，我们
会将结果送入上层的merge server进行异构排序。这时候排序就会涉及异构的元素，比如商品、商家、各种卡
片以及广告，卡片常见的例子有排行榜和运营活动等。异构排序完成后会把最终结果返回给用户。架构还包含
一个查询分析模块，会对query输入进行理解。

最下层是基础检索层，我们会针对不同的业务进行索引和基本召回服务的构建。

